\documentclass[10pt,oneside]{amsart}

\usepackage[T1]{fontenc}
\usepackage[margin=1in]{geometry}
\usepackage[all]{xy}
\usepackage{marginnote}
\usepackage{enumitem}
\usepackage{amssymb}
\usepackage{mathpazo}
\usepackage{microtype}

\newcommand{\oldpage}[1]{\marginnote{\textbf{#1}}}

\newcommand{\cal}{\mathcal}
\newcommand{\cat}{\mathsf}

\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Map}{Map}
\DeclareMathOperator{\pr}{pr}

\begin{document}
\title{Groupo\"ide fondemental et theoreme de van~Kampen en theorie de topos}
\author{Oliver Leroy}
\maketitle

\begin{center}
This work was suggested to me by C. Contou-Carrere and A. Grothendieck.

My results were demonstrated during algebraic geometry meetings with D. Alibert and C. Contou-Carrere.
\end{center}

\section*{Introduction}
\oldpage{I}
The title is enough to delimit the subject; I put the essential explanations in the table of contents, thus
forming an
\begin{center}
ANALYTICAL TABLE.
\end{center}

\begin{enumerate}[label=\arabic*.]
  \item \textbf{Connected objects in a topos}~(p.~1)
    Brief expos\'e of the necessary notions to define a locally connected topos.
  \item \textbf{Locally constant objects and Galois objects}~(p.~5)
    \begin{enumerate}[label=2.\arabic*.]
      \item The locally constant objects of a topos correspond to the covers of a topological space or a scheme, regarded as sheaves.
      \item We prove for the locally constant objects of a locally connected topos the principal properties of covers of a locally connected space.
      \item The Galois objects correspond to Galois covers.
        The ``Galois theory'' class of locally constant objects trivialized by a Galois object in a connected topos.
        (In the \'etale topos of the spectrum of a field $k$, the Galois objects are the Galois extensions of $k$;
        we thus recover the classical Galois theory).
      \item Topos generated by the locally constant objects of a given locally connected topos $E$:
        the results of the next chapter will allow us to regard this topos, which consists of direct sums of locally contant objects of $E$, as the fundamental groupoid of $E$.
    \end{enumerate}
  \item \textbf{Locally Galois topoi and the fundamental groupoid}~(p.~23)
    The notion of a locally Galois topos will bind us to a tedious theory of ``pro-groupoids'';
    and it will allow us to define the fundamental groupoid of a topos by a universal property.
  \item \textbf{Inductive limits of topoi and van Kampen's theorem}~(p.~37)
    We define an inductive system of topoi using a fibred category in topoi over a category of indices.
    The Cartesian sections of this fibred category \oldpage{II} are the objects of the topos which is the inductive limit of the system.
    So the objects of an inductive limit of topoi appears as objects of the direct sum with some decent data.
    Theorem 4.5 is used to describe the fundamental groupoid of an inductive limit of locally connected topoi given their fundamental groupoids.
    The statement and proof of this theorem involve an auxilliary topos, sort of an intermediate gluing between the direct sum and the inductive limit, which is described in (4.3) and (4.4).
    I removed it in the corollary of Proposition~4.6.2, which directly describes the locally constant objects of the inductive limit.
    The advantage of the form (4.5) is to allow explicit calculations, which are developed in the points 4.6.3 and 4.6.7.
  \item[A.] \textbf{Appendix}: Categories fibred in topoi~(61).
  \item \textbf{Complements}
    \begin{enumerate}[label=5.\arabic*.]
      \item Fundamental groupoid of a locally connected topos at a point.
      \item Profinite fundamental groupoids.
    \end{enumerate}
\end{enumerate}

\begin{thebibliography}{4}
  \bibitem[1]{1} P.~Gabriel and P.~Zisman, {Calculus of fractions and homotopy theory}.
  \bibitem[2]{2} J.~Giraud, {Cohomologie non-ab\'elienne (pour les cat\'egories fibr\'ees)}.
  \bibitem[3]{3} A.~Grothendieck and J.~L.~Verdier, {Expos\'es I \`a IV du s\'eminaire de g\'eom\'etrie alg\'ebrique SGA~4}.
  \bibitem[4]{4} A.~Grothendieck, {Expos\'es V et IX du s\'eminaire SGA~1}.
\end{thebibliography}

\section*{Conventions and notations}
\oldpage{III}
\begin{enumerate}[label=(\arabic*)]
  \item \textbf{Universe}: Throughout the text we fix a universe $\cal{U}$.
  \item \textbf{Morphisms of topoi}:
    \begin{enumerate}[label=(\alph*)]
      \item Given a morphism of topoi $E\xrightarrow{u}F$, we denote by $u^{-1}$ the inverse image functor.
      \item Given two morphisms of topoi $E\xrightarrow[v]{u}F$, we take for morphisms of morphisms of topoi $u\to v$ the natural transformations $v^{-1}\to u^{-1}$.
    \end{enumerate}
  \item \textbf{Constant objects}: For a $\cal{U}$-topos $T$, we denote by $e_T$ the final object of $T$.
    For every $\cal{U}$-small set $I$, we denote by $I_T$ the corresponding constant object of $T$.
    For every object $X$ of $T$, we denote by $I_X$ the obj $I_{T/X}=X\times I_T$.
\end{enumerate}

\section{Connected objects in a topos}
\oldpage{1}
All the topoi considered are $\cal{U}$-topoi.

\subsection{Definitions}
\begin{enumerate}[label=(\alph*)]
  \item An object of a topos is \emph{connected} if it is not a direct sum of two nonempty objects.
  \item Let $X$ be an object of a topos.
    We call the \emph{connected component} of $X$ every connected and nonempty subobject $C$ of $X$ such that $X$ is the direct sum of $C$ and another object.
  \item A \emph{topos} is connected if its final object is connected.
  \item A topos is \emph{locally connected} if it is generated by its connected objects.
\end{enumerate}

\subsection{}
Let $C$ be an object of a topos $E$.
The following properties are equivalent:
\begin{enumerate}[label=(\alph*)]
  \item $C$ is connected and nonempty.
  \item The functor
    \[
      \Hom_E(C,-):E\longrightarrow\cat{Set}
    \]
    commutes with direct sums.
  \item For every set $I$, the natural map $I\to\Hom(C,I_E)$ is bijective (this is immediate).
\end{enumerate}

\subsection{}
\oldpage{2}
Let $(U_i\xrightarrow{f_i}V)_{i\in I}$ be an epimorphic family of a topos $E$.
Consider the properties:
\begin{enumerate}[label=(\alph*)]
  \item $V$ is connected and nonempty.
  \item The graph $R\subset I\times I$ of the relation
    \begin{center}
    ``$U_i\times_V U_j$ is nonempty''
    \end{center}
    is connected (as a graph having $I$ for its set of vertices).
\end{enumerate}
We have
\begin{enumerate}[label=(\roman*)]
  \item If the $U_i$ are nonempty, then (a) implies (b).
  \item If the $U_i$ are connected and nonempty, then (b) implies (a).
\end{enumerate}

\begin{proof}
Trivial if $I=\varnothing$.
Thus suppose $I\neq\varnothing$.
\begin{enumerate}
  \item[(a)$\implies$(b)] ($U_i$ nonempty). Let $(I_1,I_2)$ be a partition of $I$ such that for every $i\in I_1$ and every $j\in I_2$, $U_i\times_V U_j$ is empty.
    If we denote by $V_1$ and $V_2$ respectively the images of the morphisms
    \[
      \prod_{i\in I_1}U_i\longrightarrow V,\quad\prod_{i\in I_2}U_i\longrightarrow V,
    \]
    then $V$ is the sum of $V_1$ and $V_2$.
    Thus $V_1$ or $V_2$ is empty.
    As every $U_i$ is nonempty, $I_1$ or $I_2$ is empty.
  \item[(b)$\implies$(a)] ($U_i$ connected and nonempty). Let $(Y_\alpha)_{\alpha\in A}$ be a family of objects of $E$, and consider a morphism
    \[
      V\longrightarrow Y=\coprod_\alpha Y_\alpha.
    \]
    For each $\alpha\in A$, let $I_\alpha$ be the set of the $i\in I$ such that the composition
    \[
      U_i\longrightarrow V\longrightarrow Y
    \]
    factors through $Y_\alpha$.
    Since the $U_i$ are connected and nonempty, $I$ is the disjoint union of the $I_\alpha$.
    Let $\alpha$ and $\beta$ be two distinct indices.
    If $i\in I_\alpha$ and $j\in I_\beta$, then $U_i\times_V U_j$ is empty since it is a subobject of $U_i\times_Y U_j$.
    Applying~(b), we see that $I=I_{\alpha_0}$ for an $\alpha_0\in A$ and (???).
    Thus $Y$ is connected and nonempty by (1.2).
\end{enumerate}
\end{proof}

\subsection{}
\oldpage{3}
Every object of a locally connected topos is the direct sum of connected objects (thus the direct sum of its connected components).

\begin{proof}
Let $E$ be a locally connected topos.
Let $Y$ be an object of $E$ and $(U_i\to Y)_{i\in I}$ be an epimorphic family of $E$, where the $U_i$ are connected and nonempty.
Let $R$ be the graph of the relation ``$U_i\times_Y U_j$ is nonempty''.
For each connected component $r$ of $R$, let $C_r$ be the image in $Y$ of the sum of the $U_i$, $i$ varying over the set of the $i\in I$ which are vertices of $r$.
$Y$ is the direct sum of the $C_r$, which are connected and nonempty by (1.3).
\end{proof}

\subsection{}
For a topos $E$ to be locally connected, it is necessary and sufficient for the functor
\begin{align*}
  I & \longmapsto I_E\\
  \cat{Set} & \longrightarrow E
\end{align*}
to admit a left adjoint
\[
  c:E\longrightarrow\cat{Set}.
\]
In this case, given an object $X$ of $E$, the fibred products
\[
  \xymatrix{
    X_\gamma\ar[r]\ar[d] & e_E\ar[d]^\gamma\\
    X\ar[r] & c(X)_E
  }
\]
($\gamma$ varying over $c(X)$) are the components of $X$.

\begin{proof}
\medskip\noindent
\begin{enumerate}[label=(\roman*)]
  \item Suppose $E$ is locally connected.
    For every object $X$ of $E$, denote by $c(X)$ the set of classes of $X$-isomorphisms of connected components of $X$ (this set is $\cal{U}$-small).
    Let $f:X\to Y$ be a morphism of $E$;
    given a connected component $C$ of $X$, there exists a connected component $D$ of $Y$, unique up to $Y$-isomorphism, such that $f_{/C}$ factors through $D$.
    So we have a map
    \[
      c(X)\longrightarrow c(Y).
    \]
    \oldpage{4}
    We thus obtain a covariant functor
    \[
      c:E\longrightarrow\cat{Set}.
    \]
    The functor $c$ is left adjoint to $I\mapsto I_E$: indeed, given an object $X$ of $E$ and a set $I$, we define a map:
    \[
      \Map(c(X),I)\longrightarrow\Hom(X,I_E)
    \]
    by sending a map
    \[
      a:c(X)\longrightarrow I
    \]
    to the morphism $X\to I_E$ whose restriction to each connected component $C$ of $X$ is the section of $I_E$ over $C$ defined by $a(C)\in I$;
    this map is bijective by (1.2), and it is functorial in $X$ and $I$.
  \item Conversely, suppose we have a left adjoint $c:E\to\cat{Set}$ of the functor $I\mapsto I_E$.

    Let $X$ be an object of $E$.
    With the notation of the statement, $X$ is the direct sum of the $X_\gamma$, $\gamma\in c(X)$.
    It suffices to prove that the $X_\gamma$ are connected and nonempty.
    For each set $I$, the natural maps
    \[
      I\longrightarrow\Hom(X_\gamma,I_E)
    \]
    provide a map
    \[
      I^{c(X)}\longrightarrow\prod_\gamma\Hom(X_\gamma,I_E)
    \]
    which makes the diagram
    \[
      \xymatrix{
        I^{c(X)}\ar[rd]\ar[d]\\
        \prod_\gamma\Hom(X_\gamma,I_E)\ar[r]^-\sim & \Hom(X,I_E)
      }
    \]
    commute, thus each of the maps
    \[ 
      I\longrightarrow\Hom(X_\gamma,I_E)
    \]
    is bijective;
    we conclude by (1.2).
\end{enumerate}
\end{proof}

\section{Locally constant objects and Galois objects}
\oldpage{5}

Fix a $\cal{U}$-topos $E$.

\subsection{Locally constant objects}
\subsubsection{Definitions}
\begin{enumerate}[label=(\arabic*)]
  \item Let $A$ and $B$ be two objects of $E$.
    We say that $A$ trivializes $B$ if $A\times B\xrightarrow{\pr_1}A$ is a constant object of the topos $E_{/A}$.
  \item We say that an object $L$ of $E$ is \emph{locally constant} if the objects of $E$ which trivialize $L$ cover $E$.
  \item Finally, we say that a presheaf $F$ on a category $\cat{C}$ is locally constant if for every morphism $X\to Y$ of $\cat{C}$, the map $F(Y)\to F(X)$ is bijective.
\end{enumerate}

\subsubsection{}
Let $Y$ be an object of $E$ and $D\xrightarrow{u}C$ a morphism of $E$.
\begin{enumerate}[label=(\roman*)]
  \item If $C$ trivializes $Y$, then $D$ trivializes $Y$;
  \item if, in addition, $C$ and $D$ are connected and nonempty, then the map $f\mapsto f\circ u$ from $\Hom(C,Y)$ to $\Hom(D,Y)$ is \emph{bijective}.
\end{enumerate}

\begin{proof}
Take a set $I$ and a $C$-isomorphism $\alpha:C\times Y\xrightarrow{\sim}I_C$.
\begin{enumerate}[label=(\roman*)]
  \item We have the Cartesian diagrams
    \[
      \xymatrix{
        D\times Y\ar[r]\ar[d] & C\times Y\ar[d]\\
        D\ar[r] & C
      }
      \qquad
      \xymatrix{
        I_D\ar[r]\ar[d] & I_C\ar[d]\\
        D\ar[r] & C,
      }
    \]
    hence a $D$-isomorphism
    \[
      \beta:D\times Y\longrightarrow I_D.
    \]
  \item Let $f:C\to Y$ and $g:D\to Y$.
    For $f\circ u=g$, it is necessary and sufficient that the diagram
    \[
      \xymatrix{
        D\times Y\ar[r] & C\times Y\\
        D\ar[u]^{(1_D,g)}\ar[r] & C\ar[u]_{(1_C,f)}
      }
    \]
    \oldpage{6} is commutative, or that the diagram
    \[
      \xymatrix{
        I_D\ar[r] & I_C\\
        D\ar[u]^{\beta\circ(1_D,g)}\ar[r] & C\ar[u]_{\alpha\circ(1_C,f)}
      }
    \]
    is commutative, hence (ii) by (1.3).
\end{enumerate}
\end{proof}

\subsubsection{}
\begin{enumerate}[label=(\roman*)]
  \item Let $C$ and $X$ be two objects of $E$.
    We have a natural morphism
    \[
      p:\Hom(C,X)_C\longrightarrow X;
    \]
    this is the morphism which, for every $f\in\Hom(C,X)$, makes the diagram
    \[
      \xymatrix{
        C\ar[rrd]^f\ar[d]_{i_f}\\
        \Hom(C,X)_C\ar[rr]^p & & X
      }
    \]
    commute, where $i_f$ denotes the section of $\Hom(X,C)_C$ over $C$ defined by $f$.

    We also have a natural $C$-morphism:
    \[
      m=(q,p):\Hom(C,X)_C\longrightarrow C\times X
    \]
    where $q$ denotes the $C$-morphism $\Hom(C,X)_C\to C$.
  \item If $C$ is connected, nonempty, and trivializes $X$, then the natural $C$-morphism
    \[
      \Hom(C,X)_C\longrightarrow C\times X
    \]
    is an \emph{isomorphism}.
\end{enumerate}

\begin{proof}
Take a set $I$ and a $C$-isomorphism $I_C\to C\times X$.
We get a bijection
\[
  \Hom_C(C,I_C)\xrightarrow{~\sim~}\Hom_C(C,C\times X)\xrightarrow{~\sim~}\Hom(C,X),
\]
hence a diagram in $E_{/C}$:
\[
  \xymatrix{
    (\Hom_C(C,I_C))_C\ar[r]^-\sim\ar[d] & \Hom(C,X)_C\ar[d]\\
    I_C\ar[r] & C\times X,
  }
\]
the commutativity of this diagram proves our assertion.
\end{proof}

\subsubsection{}
\oldpage{7}
Let $p$ be a point of $E$, $C$ a connected object of $E$, $y_0$ a point of the fibre $p^{-1}(C)$, and $X$ an object of $E$.
If $C$ trivializes $X$, then the map
\begin{align*}
  f & \longmapsto f(y_0)\\
  \Hom(C,X) & \longrightarrow p^{-1}(X)
\end{align*}
is \emph{bijective}.

\begin{proof}
Indeed, this follows from the map
\begin{align*}
  (y,f) & \longmapsto (y,f(y))\\
  p^{-1}(C)\times\Hom(C,X) & \longrightarrow p^{-1}(C)\times p^{-1}(X)
\end{align*}
which comes from, by passage to fibres, the natural isomorphism
\[
  \Hom(C,X)_C\longrightarrow C\times X\quad\text{(2.1.3, ii)}.
\]
\end{proof}

\subsubsection{}
Let $L$ be a locally constant object of $E$ and $U$ the image of $L\to e_E$.
There exists an object $V$ of $E$ such that $U\amalg V$ is isomorphic to $e_E$.

\begin{proof}
Cover $e_E$ by objects $(U_i)_{i\in I}$ which trivialize $L$.
Let $I_0$ (resp. $I_1$) be the set of $i\in I$ such that $U_i\times L$ are empty (resp. nonempty).
For every $i\in I_0$ and every $j\in I_1$, $U_i\times U_j$ is empty;
indeed, there exists a nonempty set $F$ such that $F_{U_i\times U_j}$ is empty.

Let $V_0$ and $V_1$ be respectively the images of:
\[
  \coprod_{i\in I_0}U_i\longrightarrow e_E,\quad\coprod_{i\in I_1}U_i\longrightarrow e_E.
\]
Evidently, $V_1$ is a subobject of $U$, and $U\times V_0$ is empty.
As $e_E$ is the sum of $V_0$ and $V_1$, we conclude that $V_1\simeq U$ and $U\amalg V_0\simeq e_E$.
\end{proof}

\end{document}


